INCLUDE +=-I../include/breve @CPPFLAGS@

LIBO	= javaObjectType.o javaFunctions.o javaTypes.o

install: all

all: ../lib/libbrjava.a 

../lib/libbrjava.a: MethodFinder.jar $(LIBO)
	$(AR) -crv libbrjava.a $(LIBO)
	cp libbrjava.a ../lib
	cp *.h ../include/breve
	cp *.jar ../lib/classes
	$(RANLIB) ../lib/libbrjava.a

clean:
	-rm -f *.o *.jar

.c.o:
	$(CC) $(CFLAGS) -c $*.c $(INCLUDE) @JAVAINCS@

MethodFinder.jar: MethodFinder.java
	-@JAVAC@ *.java
	-@JAR@ cf MethodFinder.jar *.class
